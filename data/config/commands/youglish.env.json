[
    { "--": "--" },

    { "--": " 0 " },
    { "--": " This is the alternative to '1' flow. Intended to be much quicker " },
    { "--": "     1. Download all subtitles first                              " },
    { "--": "     2. Get the link for downloading media. 'media_link'          " },
    { "--": "     3. Download only part of the video and convert it into mp4   " },
    { "--": "     4. Extract audio track from video                            " },

    {"--": "get download ling for using in ffmpeg"},
    { "command_yt_subtitles_download" :{
        "command": "youtube-dl",
        "arg_list": [
            "--all-subs",
            "--skip-download",
            "-o", "%(id)s.%(ext)s",
            "https://youtu.be/$(param:vid)"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},
    { "command_yt_get_media_link" : {
        "command": "youtube-dl",
        "arg_list": [
            "-f", "worst",
            "-g", "https://youtu.be/$(param:vid)"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},
    { "command_ffmpeg_download_video" : {
        "command": "ffmpeg",
        "arg_list": [
            "-ss", "$(param:start)", 
            "-to", "$(param:end)",
            "-i", "$(param:media_link)",
            "$(param:vid).mp4"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},
    { "command_extract_full_audio" : {
        "command": "ffmpeg",
        "arg_list": [
            "-i", "$(param:vid).mp4",
            "-b:a", "64k", "-ac", "2",
            "$(param:vid).mp3"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},

    { "command_save_image_0" : {
        "command": "ffmpeg",
        "arg_list": [
            "-i", "$(param:vid).mp4",
            "-ss", "0:00:01.000",
            "-vframes", "1", 
            "-q:v", "2",
            "$(param:vid).jpg"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},






    { "--": " 1 " },
    { "--": "download youtube video (mp4), audio(m4a), and subtitles command" },
    { "--": "suits for downloading whole while" },
    { "--": "example:" },
    { "--": "   youtube-dl -f 'worstvideo[ext=mp4],bestaudio[ext=m4a]' -o '%(id)s.%(ext)s' --all-sub --sub-lang en https://youtu.be/KvE9j2vTpSg" },
    { "command_yt_media_download" : {
        "command": "youtube-dl",
        "arg_list": [
            "-f", "worst[ext=mp4]",
            "-o", "%(id)s.%(ext)s",
            "--all-sub", "--sub-lang", "$(env:term_lang)",
            "https://youtu.be/$(param:vid)"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},


    { "--": "extract audio at needed position from downloaded video" },
    { "--": "example:" },
    { "--": "    ffmpeg -i video_in.mp4 -ss 23 -to 26 -b:a 64k out.mp3 " },
    
    { "command_extract_audio" : {
        "command": "ffmpeg",
        "arg_list": [
            "-i", "$(param:vid).mp4",
            "-ss", "$(param:start)",
            "-to", "$(param:end)",
            "-b:a", "64k", "-ac", "2",
            "$(param:vid).mp3"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},


    { "--": "extract frame image" },
    { "--": "example:" },
    { "--": "    ffmpeg -ss 01:23:45 -i in.mp4 -vframes 1 -q:v 2 out.jpg" },

    { "command_save_image" : {
        "command": "ffmpeg",
        "arg_list": [
            "-i", "$(param:vid).mp4",
            "-ss", "$(param:start)",
            "-vframes", "1", 
            "-q:v", "2",
            "$(param:vid).jpg"
        ],
        "active_dir": "$(env:youglish_temp_dir)"
    }},



    { "commands_flow": [ ] },

    { "--commands_flow": [
        { "command_extract_audio": {
            "status": "success"
        }},
        { "command_save_image": {
            "status": "any"
        }}
    ] },


    { "--": "--" }
]